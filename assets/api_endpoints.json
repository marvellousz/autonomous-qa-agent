{
  "api_version": "v1",
  "base_url": "https://api.ecommerce-platform.com/v1",
  "authentication": {
    "type": "Bearer Token",
    "header": "Authorization",
    "format": "Bearer {token}"
  },
  "endpoints": {
    "authentication": {
      "login": {
        "method": "POST",
        "path": "/auth/login",
        "description": "Authenticate user and receive access token",
        "request_body": {
          "email": "string (required, email format)",
          "password": "string (required, min 8 characters)"
        },
        "response_200": {
          "token": "string (JWT)",
          "user_id": "string",
          "expires_in": "number (seconds)"
        },
        "response_401": {
          "error": "Invalid credentials"
        },
        "response_429": {
          "error": "Too many login attempts. Account locked for 15 minutes"
        }
      },
      "register": {
        "method": "POST",
        "path": "/auth/register",
        "description": "Register a new user account",
        "request_body": {
          "email": "string (required, email format)",
          "password": "string (required, min 8 characters)",
          "full_name": "string (required)",
          "accept_terms": "boolean (required, must be true)"
        },
        "response_201": {
          "user_id": "string",
          "email": "string",
          "verification_required": true
        },
        "response_400": {
          "error": "Validation error",
          "details": "array of field errors"
        }
      },
      "logout": {
        "method": "POST",
        "path": "/auth/logout",
        "description": "Invalidate current access token",
        "requires_auth": true,
        "response_200": {
          "message": "Successfully logged out"
        }
      }
    },
    "products": {
      "list": {
        "method": "GET",
        "path": "/products",
        "description": "Get list of products with filtering and pagination",
        "query_parameters": {
          "category": "string (optional)",
          "min_price": "number (optional)",
          "max_price": "number (optional)",
          "rating": "number (optional, 1-5)",
          "sort": "string (optional: price_asc, price_desc, name_asc, name_desc, rating)",
          "page": "number (optional, default: 1)",
          "per_page": "number (optional, default: 12, max: 48)"
        },
        "response_200": {
          "products": "array of product objects",
          "total": "number",
          "page": "number",
          "per_page": "number",
          "total_pages": "number"
        }
      },
      "get_by_id": {
        "method": "GET",
        "path": "/products/{id}",
        "description": "Get detailed information about a specific product",
        "path_parameters": {
          "id": "string (product ID)"
        },
        "response_200": {
          "id": "string",
          "name": "string",
          "description": "string",
          "price": "number",
          "currency": "string",
          "images": "array of image URLs",
          "category": "string",
          "brand": "string",
          "rating": "number",
          "reviews_count": "number",
          "stock": "number",
          "in_stock": "boolean",
          "specifications": "object"
        },
        "response_404": {
          "error": "Product not found"
        }
      },
      "search": {
        "method": "GET",
        "path": "/products/search",
        "description": "Search products by query string",
        "query_parameters": {
          "q": "string (required, search query)",
          "page": "number (optional)",
          "per_page": "number (optional)"
        },
        "response_200": {
          "products": "array of product objects",
          "total": "number",
          "query": "string"
        }
      }
    },
    "cart": {
      "get": {
        "method": "GET",
        "path": "/cart",
        "description": "Get current user's shopping cart",
        "requires_auth": true,
        "response_200": {
          "items": "array of cart item objects",
          "subtotal": "number",
          "total": "number",
          "item_count": "number"
        }
      },
      "add_item": {
        "method": "POST",
        "path": "/cart/items",
        "description": "Add product to shopping cart",
        "requires_auth": true,
        "request_body": {
          "product_id": "string (required)",
          "quantity": "number (required, min: 1, max: stock available)"
        },
        "response_201": {
          "item": "cart item object",
          "message": "Item added to cart"
        },
        "response_400": {
          "error": "Invalid quantity or product out of stock"
        }
      },
      "update_item": {
        "method": "PUT",
        "path": "/cart/items/{item_id}",
        "description": "Update quantity of cart item",
        "requires_auth": true,
        "path_parameters": {
          "item_id": "string (cart item ID)"
        },
        "request_body": {
          "quantity": "number (required, min: 1)"
        },
        "response_200": {
          "item": "cart item object",
          "message": "Cart updated"
        }
      },
      "remove_item": {
        "method": "DELETE",
        "path": "/cart/items/{item_id}",
        "description": "Remove item from cart",
        "requires_auth": true,
        "path_parameters": {
          "item_id": "string (cart item ID)"
        },
        "response_200": {
          "message": "Item removed from cart"
        }
      },
      "clear": {
        "method": "DELETE",
        "path": "/cart",
        "description": "Clear all items from cart",
        "requires_auth": true,
        "response_200": {
          "message": "Cart cleared"
        }
      }
    },
    "checkout": {
      "create_order": {
        "method": "POST",
        "path": "/checkout/orders",
        "description": "Create a new order from cart",
        "requires_auth": true,
        "request_body": {
          "shipping_address": {
            "full_name": "string (required)",
            "email": "string (required, email format)",
            "address_line1": "string (required)",
            "address_line2": "string (optional)",
            "city": "string (required)",
            "zip_code": "string (required)",
            "country": "string (required, ISO country code)",
            "phone": "string (optional)"
          },
          "billing_address": "object (optional, uses shipping if not provided)",
          "shipping_method": "string (required: standard, express, overnight)",
          "payment_method": "string (required: credit_card, debit_card, paypal)",
          "payment_details": {
            "card_number": "string (required if credit/debit card)",
            "expiry_date": "string (required, format: MM/YY)",
            "cvv": "string (required, 3-4 digits)",
            "cardholder_name": "string (required)"
          },
          "discount_code": "string (optional)"
        },
        "response_201": {
          "order_id": "string",
          "status": "string (pending)",
          "total": "number",
          "estimated_delivery": "string (ISO date)",
          "confirmation_email_sent": true
        },
        "response_400": {
          "error": "Validation error",
          "details": "array of field errors"
        },
        "response_402": {
          "error": "Payment failed",
          "details": "string"
        }
      },
      "get_order": {
        "method": "GET",
        "path": "/checkout/orders/{order_id}",
        "description": "Get order details by order ID",
        "requires_auth": true,
        "path_parameters": {
          "order_id": "string (order ID)"
        },
        "response_200": {
          "order_id": "string",
          "status": "string",
          "items": "array",
          "shipping_address": "object",
          "payment_method": "string",
          "subtotal": "number",
          "shipping": "number",
          "tax": "number",
          "discount": "number",
          "total": "number",
          "created_at": "string (ISO date)",
          "updated_at": "string (ISO date)"
        }
      },
      "cancel_order": {
        "method": "POST",
        "path": "/checkout/orders/{order_id}/cancel",
        "description": "Cancel an order (within 24 hours)",
        "requires_auth": true,
        "path_parameters": {
          "order_id": "string (order ID)"
        },
        "response_200": {
          "message": "Order cancelled",
          "refund_processed": true
        },
        "response_400": {
          "error": "Order cannot be cancelled (outside 24-hour window)"
        }
      }
    },
    "discounts": {
      "validate_code": {
        "method": "POST",
        "path": "/discounts/validate",
        "description": "Validate a discount code",
        "request_body": {
          "code": "string (required)",
          "cart_total": "number (optional, for minimum purchase validation)"
        },
        "response_200": {
          "valid": true,
          "code": "string",
          "discount_type": "string (percentage, fixed_amount, free_shipping)",
          "discount_value": "number",
          "description": "string",
          "expires_at": "string (ISO date)"
        },
        "response_400": {
          "valid": false,
          "error": "Invalid or expired discount code"
        }
      },
      "apply_code": {
        "method": "POST",
        "path": "/discounts/apply",
        "description": "Apply discount code to cart",
        "requires_auth": true,
        "request_body": {
          "code": "string (required)"
        },
        "response_200": {
          "code": "string",
          "discount_amount": "number",
          "new_total": "number",
          "message": "Discount code applied successfully"
        },
        "response_400": {
          "error": "Invalid discount code or minimum purchase not met"
        }
      }
    },
    "user": {
      "get_profile": {
        "method": "GET",
        "path": "/user/profile",
        "description": "Get current user's profile",
        "requires_auth": true,
        "response_200": {
          "user_id": "string",
          "email": "string",
          "full_name": "string",
          "created_at": "string (ISO date)"
        }
      },
      "update_profile": {
        "method": "PUT",
        "path": "/user/profile",
        "description": "Update user profile",
        "requires_auth": true,
        "request_body": {
          "full_name": "string (optional)",
          "email": "string (optional, requires verification)"
        },
        "response_200": {
          "message": "Profile updated",
          "user": "user object"
        }
      },
      "get_orders": {
        "method": "GET",
        "path": "/user/orders",
        "description": "Get user's order history",
        "requires_auth": true,
        "query_parameters": {
          "page": "number (optional)",
          "per_page": "number (optional)",
          "status": "string (optional: pending, processing, shipped, delivered, cancelled)"
        },
        "response_200": {
          "orders": "array of order objects",
          "total": "number",
          "page": "number"
        }
      }
    }
  },
  "error_responses": {
    "400": {
      "description": "Bad Request - Validation error",
      "format": {
        "error": "string",
        "details": "array of field-specific errors"
      }
    },
    "401": {
      "description": "Unauthorized - Invalid or missing authentication",
      "format": {
        "error": "Authentication required"
      }
    },
    "403": {
      "description": "Forbidden - Insufficient permissions",
      "format": {
        "error": "Access denied"
      }
    },
    "404": {
      "description": "Not Found - Resource does not exist",
      "format": {
        "error": "Resource not found"
      }
    },
    "429": {
      "description": "Too Many Requests - Rate limit exceeded",
      "format": {
        "error": "Rate limit exceeded",
        "retry_after": "number (seconds)"
      }
    },
    "500": {
      "description": "Internal Server Error",
      "format": {
        "error": "Internal server error",
        "request_id": "string"
      }
    }
  },
  "rate_limits": {
    "authenticated": "1000 requests per hour",
    "unauthenticated": "100 requests per hour",
    "login_endpoint": "5 requests per 15 minutes per IP"
  },
  "webhooks": {
    "order_status_changed": {
      "event": "order.status.changed",
      "description": "Triggered when order status changes",
      "payload": {
        "order_id": "string",
        "old_status": "string",
        "new_status": "string",
        "timestamp": "string (ISO date)"
      }
    },
    "payment_processed": {
      "event": "payment.processed",
      "description": "Triggered when payment is successfully processed",
      "payload": {
        "order_id": "string",
        "amount": "number",
        "payment_method": "string",
        "timestamp": "string (ISO date)"
      }
    }
  }
}

